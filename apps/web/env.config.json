{
  "$schema": "../../packages/env-tools/schemas/env-config-schema.json",
  "appName": "AI.C9d.Web",
  "displayName": "C9D Web Application",
  "description": "Main Next.js web application for the C9D AI platform",
  "envVars": {
    "required": [
      {
        "name": "DATABASE_URL",
        "description": "PostgreSQL connection string for Supabase database",
        "type": "string",
        "format": "url",
        "example": "postgresql://user:password@host:port/database",
        "validation": {
          "pattern": "^postgresql://.*",
          "minLength": 20
        }
      },
      {
        "name": "NEXT_PUBLIC_SUPABASE_URL",
        "description": "Public Supabase project URL",
        "type": "string",
        "format": "url",
        "example": "https://your-project.supabase.co",
        "validation": {
          "pattern": "^https://.*\\.supabase\\.co$"
        }
      },
      {
        "name": "NEXT_PUBLIC_SUPABASE_ANON_KEY",
        "description": "Supabase anonymous/public key",
        "type": "string",
        "sensitive": false,
        "validation": {
          "minLength": 100,
          "pattern": "^eyJ[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*$"
        }
      },

      {
        "name": "NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY",
        "description": "Clerk publishable key for client-side authentication",
        "type": "string",
        "sensitive": false,
        "validation": {
          "pattern": "^pk_(test|live)_[A-Za-z0-9]{32,}$"
        }
      },
      {
        "name": "CLERK_SECRET_KEY",
        "description": "Clerk secret key for server-side authentication",
        "type": "string",
        "sensitive": true,
        "validation": {
          "pattern": "^sk_(test|live)_[A-Za-z0-9]{32,}$"
        }
      },
      {
        "name": "CLERK_WEBHOOK_SECRET",
        "description": "Clerk webhook secret for validating webhook requests",
        "type": "string",
        "sensitive": true,
        "validation": {
          "pattern": "^whsec_[A-Za-z0-9+/]{32,}={0,2}$"
        }
      }
    ],
    "optional": [
      {
        "name": "REDIS_URL",
        "description": "Redis connection URL for caching",
        "type": "string",
        "format": "url",
        "example": "redis://localhost:6379",
        "validation": {
          "pattern": "^redis://.*"
        }
      },
      {
        "name": "NEXT_PUBLIC_APP_URL",
        "description": "Public URL of the application",
        "type": "string",
        "format": "url",
        "example": "https://app.c9d.ai",
        "default": "http://localhost:3007"
      },
      {
        "name": "NODE_ENV",
        "description": "Node.js environment",
        "type": "string",
        "enum": ["development", "production", "test"],
        "default": "development"
      },
      {
        "name": "VERCEL_ENV",
        "description": "Vercel deployment environment",
        "type": "string",
        "enum": ["development", "preview", "production"]
      },
      {
        "name": "VERCEL_URL",
        "description": "Vercel deployment URL",
        "type": "string",
        "format": "url"
      },
      {
        "name": "PHASE_SERVICE_TOKEN",
        "description": "Phase.dev service token for environment management",
        "type": "string",
        "sensitive": true,
        "validation": {
          "pattern": "^pss_[A-Za-z0-9]{32,}$"
        }
      },
      {
        "name": "PHASE_ENV",
        "description": "Phase.dev environment context",
        "type": "string",
        "enum": ["development", "staging", "production"],
        "default": "development"
      },
      {
        "name": "ANALYZE",
        "description": "Enable bundle analysis",
        "type": "boolean",
        "default": false
      },
      {
        "name": "DISABLE_TELEMETRY",
        "description": "Disable Next.js telemetry",
        "type": "boolean",
        "default": true
      },
      {
        "name": "SUPABASE_SERVICE_ROLE_KEY",
        "description": "Supabase service role key for server-side operations",
        "type": "string",
        "sensitive": true,
        "validation": {
          "minLength": 100,
          "pattern": "^eyJ[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*\\.[A-Za-z0-9_-]*$"
        }
      }
    ]
  },
  "validation": {
    "strict": true,
    "warnOnMissing": true,
    "failOnInvalid": true
  },
  "environments": {
    "development": {
      "requiredOverrides": [],
      "optionalOverrides": [
        "REDIS_URL",
        "PHASE_SERVICE_TOKEN"
      ]
    },
    "staging": {
      "requiredOverrides": [
        "REDIS_URL",
        "PHASE_SERVICE_TOKEN"
      ],
      "optionalOverrides": []
    },
    "production": {
      "requiredOverrides": [
        "REDIS_URL",
        "PHASE_SERVICE_TOKEN"
      ],
      "optionalOverrides": []
    }
  }
}